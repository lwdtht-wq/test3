<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Liquid Metal World Map ¬∑ Cyber Faith</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="style.css">
<script src="https://d3js.org/d3.v7.min.js"></script>

<style>
/* ======== LIQUID REGION STYLES ======== */

.region {
  cursor: pointer;
  transition: 0.25s ease;
  stroke-width: 3;
  stroke: rgba(255,255,255,0.6);
  filter: drop-shadow(0 0 6px rgba(150,200,255,0.45));
}

.region:hover {
  stroke: #fff;
  stroke-width: 4;
  filter: drop-shadow(0 0 16px rgba(255,255,255,1));
  transform: scale(1.03);
}

.liquid-tooltip {
  position: absolute;
  padding: 14px 18px;
  background: rgba(10,20,35,0.8);
  border: 1px solid #4af1ff;
  border-radius: 10px;
  backdrop-filter: blur(8px);
  color: #dff6ff;
  display: none;
  pointer-events: none;
  box-shadow: 0 0 14px #4af1ff88;
  font-size: 14px;
  z-index: 1000;
}
</style>

</head>
<body>

<div class="page-opening">
    <img src="assets/open4.jpg">
    <div class="page-title-overlay glitch" data-text="LIQUID METAL WORLD MAP">
        LIQUID METAL WORLD MAP
    </div>
</div>

<nav id="sideNav" class="hidden">
    <a href="index.html" class="nav-icon" data-label="Home">üúÇ</a>
    <a href="page1.html" class="nav-icon" data-label="Trends">üúÅ</a>
    <a href="page2.html" class="nav-icon" data-label="New Faiths">‚üü</a>
    <a href="page3.html" class="nav-icon" data-label="World Map">üúÑ</a>
    <a href="page4.html" class="nav-icon" data-label="Liquid Metal">‚üÅ</a>
    <a href="page5.html" class="nav-icon" data-label="Story">‚õõ</a>
</nav>

<section class="page-panel">

<h2>Interactive Global Distribution of Future Faiths</h2>
<p>Hover each liquid region to explore the dominant Cyber-Faiths of 2150.</p>

<div id="mapContainer" style="width:100%; height:600px; margin-top:40px; position:relative;"></div>

</section>

<script>
/* ---------------- LIQUID ORGANIC REGION GENERATOR ---------------- */

// Creates random blob-like shapes
function generateBlob(cx, cy, radius, points, randomness) {
  let angleStep = (Math.PI * 2) / points;
  let path = "";

  for (let i = 0; i <= points; i++) {
    let angle = i * angleStep;
    let r = radius + (Math.random() * randomness - randomness / 2);
    let x = cx + Math.cos(angle) * r;
    let y = cy + Math.sin(angle) * r;
    path += (i === 0 ? "M" : "L") + x + "," + y + " ";
  }
  return path + "Z";
}

const regions = [
  {
    id: "north",
    cx: 300, cy: 150,
    radius: 120,
    color: "#4af1ff",
    title: "Cyber North Dominion",
    desc: "A cold digital empire ruled by Oracle processors."
  },
  {
    id: "east",
    cx: 600, cy: 200,
    radius: 140,
    color: "#7d4bff",
    title: "Quantum East Realm",
    desc: "Faith guided by quantum rituals and probability philosophy."
  },
  {
    id: "south",
    cx: 450, cy: 400,
    radius: 150,
    color: "#3bc6d4",
    title: "Echo South Basin",
    desc: "Followers seek resonance with Memory Echo Spirits."
  },
  {
    id: "west",
    cx: 150, cy: 350,
    radius: 135,
    color: "#ff61f9",
    title: "Alloy West Frontier",
    desc: "A melting land of hybrid metal-faith tribes."
  },
  {
    id: "core",
    cx: 400, cy: 300,
    radius: 90,
    color: "#ffd54a",
    title: "Core Nexus Zone",
    desc: "The central birthplace of Liquid Consciousness."
  }
];

const svg = d3.select("#mapContainer")
  .append("svg")
  .attr("width", "100%")
  .attr("height", "100%")
  .style("position", "absolute");

const tooltip = d3.select("body").append("div")
  .attr("class", "liquid-tooltip");

regions.forEach(r => {
  svg.append("path")
    .attr("class", "region")
    .attr("id", r.id)
    .attr("fill", r.color + "55")
    .attr("stroke", r.color)
    .attr("d", generateBlob(r.cx, r.cy, r.radius, 18, 45))
    .on("mousemove", function(event) {
      tooltip.style("display", "block")
        .style("left", event.pageX + 20 + "px")
        .style("top", event.pageY - 20 + "px")
        .html(`
          <strong style="font-size:16px;">${r.title}</strong><br>
          <span style="opacity:0.8;">${r.desc}</span>
        `);
    })
    .on("mouseleave", function() {
      tooltip.style("display", "none");
    })
    .on("mouseenter", function() {
      d3.select(this)
        .transition()
        .duration(300)
        .attr("fill", r.color + "aa")
        .style("filter", "drop-shadow(0 0 20px " + r.color + ")");
    })
    .on("mouseout", function() {
      d3.select(this)
        .transition()
        .duration(300)
        .attr("fill", r.color + "55")
        .style("filter", "drop-shadow(0 0 6px " + r.color + ")");
    });
});

</script>

</body>
</html>

