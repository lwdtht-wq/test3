<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Future Faith Trends ¬∑ 2050‚Äì2150</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="style.css">
<script src="https://d3js.org/d3.v7.min.js"></script>

<style>
/* Layout for Chart + Side Panel */
#chartContainer {
    display: flex;
    gap: 30px;
    margin-top: 40px;
}

/* Chart box */
#trendChart {
    flex: 2;
    background: rgba(10,20,35,0.55);
    padding: 20px;
    border-radius: 14px;
    border: 1px solid #4af1ff88;
    box-shadow: 0 0 20px #4af1ff55 inset;
}

/* Side info panel */
#infoPanel {
    flex: 1;
    background: rgba(12,25,45,0.55);
    padding: 20px;
    border-radius: 14px;
    border: 1px solid #4af1ff66;
    box-shadow: 0 0 16px #4af1ff44 inset;
    color: #d0e7ff;
    font-size: 14px;
}

#infoPanel h3 {
    margin-top: 0;
    color: #4af1ff;
}

.info-box {
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 1px solid #4af1ff33;
}

.info-box strong {
    color: #7bd4ff;
}

/* Tooltip bubble */
.chart-tooltip {
    position: absolute;
    background: rgba(20,30,45,0.9);
    border: 1px solid #4af1ff;
    color: #d0e7ff;
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 13px;
    pointer-events: none;
    display: none;
    z-index: 9999;
    box-shadow: 0 0 10px #4af1ff;
}
</style>

</head>
<body>

<!-- ======================= PAGE OPENING ======================= -->
<div class="page-opening">
    <img src="assets/open1.jpg">
    <div class="page-title-overlay glitch" data-text="FUTURE FAITH TRENDS">
        FUTURE FAITH TRENDS
    </div>
</div>

<!-- ======================= NAV ======================= -->
<nav id="sideNav" class="hidden">
    <a href="index.html" class="nav-icon" data-label="Home">üúÇ</a>
    <a href="page1.html" class="nav-icon" data-label="Trends">üúÅ</a>
    <a href="page2.html" class="nav-icon" data-label="New Faiths">‚üü</a>
    <a href="page3.html" class="nav-icon" data-label="World Map">üúÑ</a>
    <a href="page4.html" class="nav-icon" data-label="Liquid Metal">‚üÅ</a>
    <a href="page5.html" class="nav-icon" data-label="Story">‚õõ</a>
</nav>


<section class="page-panel">

<h2>Global Rise of Tech-Aligned Religions (2050‚Äì2150)</h2>

<p>
As technology reshapes human identity, several future religions grow in influence.
This chart shows their projected follower counts in 2150.
Hover to explore the details, and view the right panel for key insights.
</p>

<!-- Chart + Info Panel Container -->
<div id="chartContainer">
    <div id="trendChart"></div>

    <div id="infoPanel">
        <h3>Religion Insights</h3>
        <div id="infoContent">Hover over a bar to view details.</div>
    </div>
</div>

</section>

<!-- ======================= D3 SCRIPT ======================= -->
<script>
// Main dataset
const data = [
  {
    faith: "Cyber Oracle",
    value: 680,
    growth: "+4.2% yearly",
    influence: 92,
    event: "First AI-prophet council formed in 2132."
  },
  {
    faith: "Quantum Throne",
    value: 540,
    growth: "+3.1% yearly",
    influence: 84,
    event: "Multiverse doctrine recognized across 40 nations."
  },
  {
    faith: "Psionic Union",
    value: 420,
    growth: "+2.4% yearly",
    influence: 77,
    event: "Neural-link collective achieved stable shared memory."
  },
  {
    faith: "Echo Memory Cult",
    value: 310,
    growth: "+2.9% yearly",
    influence: 70,
    event: "Digital resurrection system reached public trials."
  }
];

// Blue color set
const colorRGB = d => {
    if (d.faith === "Cyber Oracle") return "rgb(74,140,255)";
    if (d.faith === "Quantum Throne") return "rgb(80,200,255)";
    if (d.faith === "Psionic Union") return "rgb(60,255,220)";
    if (d.faith === "Echo Memory Cult") return "rgb(120,180,255)";
};

// Tooltip
const tooltip = d3.select("body").append("div")
    .attr("class", "chart-tooltip");

// SVG setup
const width = 760, height = 420;
const margin = { top: 40, right: 20, bottom: 60, left: 120 };

const svg = d3.select("#trendChart").append("svg")
    .attr("width", width)
    .attr("height", height);

// Scales
const y = d3.scaleBand()
    .domain(data.map(d => d.faith))
    .range([margin.top, height - margin.bottom])
    .padding(0.3);

const x = d3.scaleLinear()
    .domain([0, d3.max(data, d => d.value)])
    .range([margin.left, width - margin.right]);

// Axes
svg.append("g")
    .attr("transform", `translate(0,${height - margin.bottom})`)
    .call(d3.axisBottom(x).ticks(6))
    .attr("color", "#7bc4ff");

svg.append("g")
    .attr("transform", `translate(${margin.left},0)`)
    .call(d3.axisLeft(y))
    .attr("color", "#7bc4ff");

// Bars
svg.selectAll(".bar")
    .data(data)
    .enter()
    .append("rect")
    .attr("x", margin.left)
    .attr("y", d => y(d.faith))
    .attr("height", y.bandwidth())
    .attr("rx", 6)
    .attr("fill", d => colorRGB(d))
    .attr("width", 0)
    .transition()
    .duration(900)
    .attr("width", d => x(d.value) - margin.left);

// Hover behavior
svg.selectAll("rect")
    .on("mousemove", function (event, d) {

        d3.select(this)
            .transition().duration(150)
            .attr("width", x(d.value) - margin.left + 20)
            .style("filter", "drop-shadow(0 0 10px #4af1ff)");

        tooltip.style("display", "block")
            .style("left", event.pageX + 12 + "px")
            .style("top", event.pageY - 20 + "px")
            .html(`
                <strong>${d.faith}</strong><br>
                Followers: ${d.value}M<br>
                Growth: ${d.growth}<br>
                Influence: ${d.influence}/100
            `);

        document.getElementById("infoContent").innerHTML = `
            <div class="info-box">
                <strong>${d.faith}</strong>
            </div>
            <div class="info-box">
                <strong>Followers:</strong> ${d.value}M
            </div>
            <div class="info-box">
                <strong>Growth Rate:</strong> ${d.growth}
            </div>
            <div class="info-box">
                <strong>Influence Index:</strong> ${d.influence}/100
            </div>
            <div class="info-box">
                <strong>Notable Event:</strong><br> ${d.event}
            </div>
        `;
    })
    .on("mouseleave", function () {

        d3.select(this)
            .transition().duration(200)
            .attr("width", d => x(d.value) - margin.left)
            .style("filter", "none");

        tooltip.style("display", "none");
    });

</script>

</body>
</html>
